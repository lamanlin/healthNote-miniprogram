"use strict";const e=require("./vendor.js");let t=JSON.parse(e.index.getStorageSync("userInfo")||"{}").token;exports.request=function(s){return new Promise(((n,a)=>{s.data||(s.data={}),t&&(s.data.token=t),e.index.showLoading(),e.Es.callFunction({name:s.name,data:s.data,success:e=>{e.result&&e.result.token&&(t=e.result.token),s.success&&s.success(e),n(e)},fail:e=>{s.fail&&s.fail(e),a()},complete:()=>{e.index.hideLoading(),s.complete&&s.complete()}})}))};
